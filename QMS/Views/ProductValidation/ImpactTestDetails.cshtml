@{
    ViewData["Title"] = "Impact Test (Pendulum type)";
}

<style>
    /* Reused styles from your TRT layout (keeps the same look) */
    .underline-input {
        border: 0;
        border-bottom: 1.5px solid #666;
        border-radius: 0;
        background: transparent;
        width: 50%;
        font-size: 15px;
        padding: 2px 6px;
        outline: none;
        box-shadow: none;
        vertical-align: middle;
        transition: border-color 0.2s ease-in-out;
    }

        .underline-input:focus {
            border-bottom: 1.5px solid #4682B4;
        }

    .ce-field {
        width: 100%;
        min-height: 28px;
        border-bottom: 1px solid #333;
        padding: 6px 8px;
        font-size: 15px;
        line-height: 1.4;
        outline: none;
        display: block;
    }

        .ce-field:focus {
            border-bottom: 1px solid #007bff;
            background-color: #f9f9f9;
        }

    .req {
        color: #d00;
        font-style: normal;
        margin-left: 2px;
    }

    td {
        white-space: nowrap;
        padding: 8px 10px;
        vertical-align: middle;
    }

    b {
        font-size: 15px;
        color: #000;
    }

    .card {
        border-radius: 8px;
        border: 1px solid #ccc;
        background: #fff;
    }

    .header-title {
        font-size: x-large;
        color: #4682B4;
        font-weight: 600;
    }

    .header-btn {
        width: 120px;
        font-size: 15px;
        border-radius: 6px;
        transition: all 0.2s ease-in-out;
    }

        .header-btn:hover {
            transform: scale(1.05);
        }

    .result-cell {
        font-weight: 700;
        color: red;
        padding: 12px 10px;
        vertical-align: middle;
        background: #fff;
        font-size: 14px;
    }

    .result-dropdown {
        margin-left: 10px;
        width: 140px;
        padding: 6px 25px 6px 10px;
        border: none;
        border-bottom: 1.5px solid #cbd5e1;
        border-radius: 6px;
        background-color: #fff;
        font-size: 14px;
        color: #000;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='12' viewBox='0 0 20 20' width='12' xmlns='http://www.w3.org/2000/svg'><path d='M5.516 7.548l4.484 4.486 4.484-4.486L16 8.548l-6 6-6-6z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 12px;
        cursor: pointer;
        transition: all 0.25s ease-in-out;
    }

        .result-dropdown:focus {
            outline: none;
            border-bottom-color: #4a90e2;
            box-shadow: 0 2px 3px rgba(70,130,180,0.25);
        }

    .form-control {
        border: none;
        border-bottom: 1px solid #999;
        background: transparent;
        outline: none;
        box-shadow: none;
        border-radius: 0;
        transition: border-color 0.2s ease-in-out;
    }

        .form-control:focus {
            border-bottom: 1px solid #4682B4;
        }

    table.table-bordered th, table.table-bordered td {
        border: 1px solid #000 !important;
        vertical-align: middle;
        padding: 8px;
    }

    table.table-bordered {
        border-collapse: collapse;
        font-size: 13px;
        width: 100%;
    }

    .muted {
        color: #666;
        font-size: 13px;
    }

    .text-left {
        text-align: left;
    }
</style>

<body>
    <!-- Title Card (matching TRT style) -->
    <div class="card shadow-sm mb-3" style="border-radius:8px; border:1px solid #ccc;">
        <div class="card-body d-flex justify-content-between align-items-center py-3" style="min-height:80px;">
            <div>
                <b style="font-size:x-large; color:#4682B4;">
                    Impact Test (Pendulum type)
                </b>

            </div>

            <div>
                <button id="addImpactButton"
                        type="button"
                        class="btn btn-outline-success legitRipple mr-2"
                        onclick="insertImpactTest()"
                        style="width:120px; font-size:15px;">
                    <i class="fas fa-save mr-1"></i>Save
                </button>

                <a href='@Url.Action("ImpactTestsList", "ProductValidation")'
                   class="btn btn-outline-primary"
                   style="width:120px; font-size:15px;">
                    <i class="fas fa-arrow-left"></i> BACK
                </a>
            </div>
        </div>
    </div>


    <div class="card shadow-sm mb-3" style="border-radius:8px; border:1px solid #000;">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" style="width:100%; border-collapse:collapse; font-size:14px;">
                    <colgroup>
                        <col style="width:66.66%;">
                        <col style="width:33.33%;">
                    </colgroup>
                    <tbody>
                        <!-- 🔸 Row 1: Customer + Report Info -->
                        <tr>
                            <td style="vertical-align:top;">
                                <b>Customer/Project Name:</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:40%;"
                                       placeholder="Enter customer or project name" />
                            </td>
                            <td style="vertical-align:top;">
                                <b>Report No :</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:51%;"
                                       placeholder="Enter report number" />
                                <br />
                                <b>Date :</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:60%; margin-top:6px;"
                                       placeholder="dd-mm-yyyy" />
                            </td>
                        </tr>

                        <!-- 🔸 Row 2: Product Info -->
                        <tr>
                            <td>
                                <b>Product Cat Ref :-</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:45%; margin-right:10px;"
                                       placeholder="Enter product reference" />
                                <b>Product Description :-</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:20%;"
                                       placeholder="Enter description" />
                            </td>
                            <td>
                                <b>Batch Code :</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:25%; margin-right:8px;"
                                       placeholder="Batch" />
                                <b>Quantity :</b>
                                <input type="text"
                                       class="underline-input"
                                       style="width:25%;"
                                       placeholder="Qty" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-responsive">
                <table class="table table-bordered" style="width:100%; border-collapse:collapse; text-align:center; font-size:13px;">
                    <thead>
                        <tr>
                            <th rowspan="2" style="vertical-align:middle;">IK Rating</th>
                            <th colspan="10" style="text-align:center; font-weight:700;">Test Specification</th>
                        </tr>
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="text-align:left; font-weight:600;">Weight (kg)</td>
                            <td>0.2kg<br>(Polyamide)</td>
                            <td>0.2kg<br>(Polyamide)</td>
                            <td>0.2kg<br>(Polyamide)</td>
                            <td>0.2kg<br>(Polyamide)</td>
                            <td>0.2kg<br>(Polyamide)</td>
                            <td>0.5kg<br>(Polyamide)</td>
                            <td>0.5kg<br>(Steel)</td>
                            <td>1.7kg<br>(Steel)</td>
                            <td>5kg<br>(Steel)</td>
                            <td>5kg<br>(Steel)</td>
                        </tr>
                        <tr>
                            <td style="text-align:left; font-weight:600;">Distance (cm)</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td style="text-align:left; font-weight:600;">Impact Energy (joules)</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td style="text-align:left; font-weight:600;">Applicable Test</td>
                            <td colspan="10" style="text-align:left; background:#f9f9f9;">(Specify or describe applicable test methods here)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
        </div>
    </div>





     
    <!-- JS: helpers -->
    <script>
        function calcEnergy() {
            // E = m * g * h  (Joules)
            var m = parseFloat(document.getElementById('hammerMass').value) || 0;
            var g = parseFloat(document.getElementById('gValue').value) || 9.806;
            var h = parseFloat(document.getElementById('dropHeight').value) || 0;
            var e = m * g * h;
            var el = document.getElementById('impactEnergy');
            if (e && e > 0) {
                el.value = e.toFixed(3) + ' J';
            } else {
                el.value = '';
            }
        }

        function insertImpactTest() {
            // Gather some key fields and show a quick confirmation (replace with ajax/save logic)
            var spec = document.getElementsByName('SpecimenID')[0].value || '—';
            var rpt = document.getElementsByName('ReportNo')[0].value || '—';
            var energy = document.getElementById('impactEnergy').value || '—';
            alert('Saving Impact Test:\\nReport No: ' + rpt + '\\nSpecimen: ' + spec + '\\nEnergy: ' + energy);
            // TODO: replace with real save / ajax call to server-side action
        }

        // Additional helpers (export / navigation) — plug into your backend
        function exportImpactData() {
            alert('Exporting impact test data (placeholder)...');
        }

        // You can wire additional buttons to dynamic JS if required
    </script>
</body>

@section HideSidebar { }