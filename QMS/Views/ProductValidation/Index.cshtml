@{
    ViewData["Title"] = "Product Validation";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link href="~/css/all.min.css" rel="stylesheet" />

<style>
    .qms-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        border: none;
        border-left: 5px solid transparent;
    }

        .qms-card:hover {
            transform: scale(1.01);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #0d6efd;
            background-color: #e9f2ff;
            cursor: pointer;
        }

        .qms-card .icon {
            font-size: 2.5rem;
            color: #0d6efd;
            transition: transform 0.3s;
        }

        .qms-card:hover .icon {
            transform: rotate(5deg) scale(1.1);
        }

    .details-section {
        display: none;
        animation: fadeIn 0.5s ease-in-out forwards;
        background: #fff;
        border-left: 4px solid #0d6efd;
    }

    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .menu-active {
        background-color: #eee !important;
        color: #0c83ff !important;
        font-weight: bold !important;
        font-size: small;
    }

    .nav-group-sub {
        display: none;
    }

        .nav-group-sub.open {
            display: block; /* Show the submenu when it has the 'open' class */
            color: #FFFF00 !important;
        }

</style>

<div class="row align-items-center" style="padding:10px;">
    <!-- Search box on the left -->
    <div class="col-md-4">
        <input type="text" id="validationCardSearch" class="form-control" placeholder="Search Product Validation..." style="border-radius: 10px;">
    </div>

    <!-- Back button on the right -->
    <div class="col-md-8 text-end">
        <button id="tarcBackButton" type="button" class="btn btn-outline-primary"
                onclick="location.href='@Url.Action("TrackerMenu", "Home")'">

            <i class="fas fa-arrow-left"></i> Back
        </button>
    </div>
</div>

<!-- CARDS GRID -->
<div style="padding:10px;">
    <div class="d-flex flex-column gap-2">
        <div class="row g-2" id="validationCardGrid">
            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("PhysicalCheckAndVisualInspection","ProductValidation")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-calendar icon me-3"></i>
                        <h5 class="mb-0">Physical Check & Visual Inspection</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("ElectricalPerformance","ProductValidation")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-layout-text-sidebar-reverse icon me-3" style="color:darkred;"></i>
                        <h5 class="mb-0">Electrical  performance</h5>
                    </div>
                </div>
            </div>

            @*  <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("PaymentTracker","PaymentTracker")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-person-badge icon me-3" style="color:seagreen;"></i>
                        <h5 class="mb-0">Payment Tracker</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("PDITracker","PDITracker")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-book icon me-3" style="color:green;"></i>
                        <h5 class="mb-0">PDI Tracker</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("FIFOTracker", "FIFOTrac")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-alipay icon me-3" style="color:chocolate;"></i>
                        <h5 class="mb-0">FIFO Tracker Waluj testing</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("ThirdPartyTestTrac","ThirdPartyTest")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-bar-chart-steps icon me-3" style="color:cyan;"></i>
                        <h5 class="mb-0">Third Party Test Tracker</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("KaizenTracker","KaizenTracker")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-amd icon me-3" style="color:blueviolet;"></i>
                        <h5 class="mb-0">Kaizen Tracker</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("ContinualImprovementTrac", "ContiImprove")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-arrow-clockwise icon me-3" style="color:red;"></i>
                        <h5 class="mb-0">Continual Improvement</h5>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("PDIAuthSignatory","PDIAuthSign")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-layout-text-sidebar-reverse icon me-3" style="color:darkkhaki;"></i>
                        <h5 class="mb-0">PDI Authorised Signatory</h5>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("DNTracker", "DNTracker")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-back icon me-3" style="color:blue;"></i>
                        <h5 class="mb-0">Deviation Note</h5>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("CSATComment", "CSATComment")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-clipboard2-pulse-fill icon me-3" style="color:brown;"></i>
                        <h5 class="mb-0">
                            CSAT Comment Analysis
                        </h5>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <div class="card qms-card" onclick="location.href='@Url.Action("RMTCTracker", "RMTCTracker")'">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-clipboard2-data-fill icon me-3" style="color:darkorange;"></i>
                        <h5 class="mb-0">
                            RM TC Report
                        </h5>
                    </div>
                </div>
            </div> *@
           

        </div>
    </div>
</div>

@section HideSidebar { }

<script asp-append-version="true">
    document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('validationCardSearch');
        // Scope to this grid for safety
        const cards = document.querySelectorAll('#validationCardGrid .qms-card');

        function applyFilter(q) {
            const query = (q || '').trim().toLowerCase();
            cards.forEach(card => {
                const title = (card.querySelector('h5')?.textContent || '').toLowerCase();
                const col = card.closest('.col-6, .col-md-4, .col-lg-3, .col-xxl-2') || card.parentElement;
                const match = title.includes(query);
                // Use CSS display toggle to keep Bootstrap grid reflowing
                col.style.display = match ? '' : 'none';
            });
        }

        // Initial (show all)
        applyFilter('');

        // Live filter on each keystroke
        searchInput.addEventListener('input', (e) => applyFilter(e.target.value));
    });
</script>