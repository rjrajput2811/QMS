@{
    ViewData["Title"] = "Installation Trial Report";
}

<link href="~/css/tabulator/tabulator.min.css" rel="stylesheet" />
<script src="~/js/tabulator.min.js"></script>

<style>
    /* Required field marker */
    .req {
        color: #d00;
        font-style: normal;
    }

    /* Header title card */
    .card-header-title {
        font-size: x-large;
        color: #4682B4;
        font-weight: 700;
    }

    /* Header button styles */
    .header-btn {
        width: 120px;
        font-size: 15px;
        border-radius: 6px;
    }

    /* Base style for table section */
    .header-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
        border: 1px solid #000;
        margin-bottom: 5px !important;
    }

        .header-table td {
            border: 1px solid #000;
            padding: 10px 12px;
            vertical-align: middle;
            white-space: nowrap;
        }

        .header-table + hr {
            margin-top: 0 !important;
        }

    /* Label styling */
    .field-label {
        font-weight: 600;
        color: #000;
        margin-right: 6px;
    }

    /* ==== PHOTO HEADER STYLING ==== */
    .photo-head {
        background: #eef2f5;
        text-align: center;
        vertical-align: middle;
        height: 110px; /* increased height */
    }

    .photo-header-content {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 18px;
    }

    .photo-text {
        font-size: 20px;
        font-weight: 500;
        color: #2b4b6f;
    }

    .photo-header-content input[type="file"] {
        font-size: 14px;
        border: none;
        background: transparent;
        cursor: pointer;
        color: #333;
    }

    /* Underline-only input fields */
    .inline-input,
    .inline-date {
        display: inline-block;
        border: none;
        border-bottom: 1.5px solid #666;
        background: transparent;
        width: 60%;
        font-size: 14px;
        padding: 2px 4px;
        outline: none;
        box-shadow: none;
        transition: border-color 0.2s ease-in-out;
        vertical-align: baseline;
    }

        .inline-input:focus,
        .inline-date:focus {
            border-bottom-color: #4682B4;
        }

        .inline-date::-webkit-calendar-picker-indicator {
            opacity: 1;
            cursor: pointer;
            margin-left: 4px;
        }

        .inline-date::-ms-clear,
        .inline-date::-webkit-clear-button {
            display: none;
        }

    /* 🔹 Result Cell Styling */
    .result-cell {
        font-weight: 700;
        color: red;
        padding: 12px 10px;
        vertical-align: middle;
        background: #fff;
        font-size: 14px;
    }

    /* 🔹 Unified modern dropdown style (for all dropdowns) */
    .result-dropdown,
    .result-select {
        width: 100%;
        padding: 6px 25px 6px 10px;
        border: none; /* remove all sides */
        border-bottom: 1.5px solid #cbd5e1; /* underline only */
        border-radius: 6px; /* soft curve */
        background-color: #fff; /* white background */
        font-size: 14px;
        color: #000;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='12' viewBox='0 0 20 20' width='12' xmlns='http://www.w3.org/2000/svg'><path d='M5.516 7.548l4.484 4.486 4.484-4.486L16 8.548l-6 6-6-6z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 12px;
        cursor: pointer;
        transition: all 0.25s ease-in-out;
        box-shadow: none; /* remove background shadows */
    }

        /* 🔹 Focus & Hover States */
        .result-dropdown:focus,
        .result-select:focus {
            outline: none;
            border-bottom-color: #4a90e2; /* blue underline */
        }

        .result-dropdown:hover,
        .result-select:hover {
            border-bottom-color: #93b4d8; /* lighter blue on hover */
        }

        /* Dropdown option list */
        .result-dropdown option,
        .result-select option {
            background: #fff;
            color: #000;
        }

    /* PV table */
    .pv-table {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        font-size: 14px;
    }

        .pv-table th,
        .pv-table td {
            border: 1px solid #000;
            padding: 8px 10px;
            vertical-align: top;
        }

        .pv-table thead th {
            background: #eef2f5;
            text-align: center;
            font-weight: 700;
        }

        .pv-table col.serial {
            width: 8%;
        }

        .pv-table col.param {
            width: 32%;
        }

        .pv-table col.result {
            width: 25%;
        }

        .pv-table td[contenteditable="true"] {
            outline: none;
        }

            .pv-table td[contenteditable="true"]:focus {
                box-shadow: inset 0 -2px 0 #4682B4;
                background: #f9fcff;
            }

    /* Photo table */
    .photo-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
        table-layout: fixed;
        margin-top: 0;
    }

        .photo-table th,
        .photo-table td {
            border: 1px solid #000;
            vertical-align: middle;
            text-align: center;
        }

        .photo-table th {
            background: #eef2f5;
            font-weight: 600;
            height: 35px;
        }
</style>


<!-- 🔹 Installation Trial Report Title Card -->
<div class="card shadow-sm mb-3" style="border-radius:8px; border:1px solid #ccc;">
    <div class="card-body d-flex justify-content-between align-items-center py-3" style="min-height:80px;">
        <div><b class="card-header-title">Installation Trial Report</b></div>
        <div>
            <button id="saveInstallationButton" type="button" class="btn btn-outline-success legitRipple mr-2 header-btn" onclick="saveInstallationTrial()">
                <i class="fas fa-save mr-1"></i>Save
            </button>
            <a href='@Url.Action("InstallationTrialReport", "ProductValidation")' class="btn btn-outline-primary header-btn">
                <i class="fas fa-arrow-left"></i> BACK
            </a>
        </div>
    </div>
</div>

<!-- 🔹 Main Card -->
<div class="card shadow-sm mb-3" style="border-radius:8px; border:1px solid #ccc;">
    <div class="card-body">

        <!-- Product Information -->
        <div class="table-responsive">
            <table class="header-table">
                <colgroup>
                    <col style="width:33%;">
                    <col style="width:34%;">
                    <col style="width:33%;">
                </colgroup>
                <tbody>
                    <tr>
                        <td>
                            <span class="field-label">Report No:</span><em class="req">*</em>
                            <input type="text" name="ReportNo" class="inline-input" placeholder="Enter Report Number" required />
                        </td>
                       
                       
                        <td>
                            <span class="field-label">Date:</span><em class="req">*</em>
                            <input type="date" name="ReportDate" class="inline-date" placeholder="Select Date" required />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="field-label">Product Cat Ref:</span><em class="req">*</em>
                            <input type="text" name="ProductCatRef" class="inline-input" placeholder="Enter Product Reference" required />
                        </td>
                        <td>
                            <span class="field-label">Batch Code:</span>
                            <input type="text" name="BatchCode" class="inline-input" placeholder="Enter Batch Code" />
                        </td>
                        <td>
                            <span class="field-label">Sample Qty:</span>
                            <input type="text" name="SampleQty" class="inline-input" placeholder="Enter Quantity" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span class="field-label">Product Description:</span><em class="req">*</em>
                            <input type="text" name="ProductDescription" class="inline-input" placeholder="Enter Product Description" required />
                        </td>
                        <td>
                            <span class="field-label">PKD:</span>
                            <input type="text" name="PKD" class="inline-input" placeholder="Enter PKD" />
                        </td>
                        <td>
                            <span class="field-label">Installation Location:</span><em class="req">*</em>
                            <input type="text" name="InstallLocation" class="inline-input" placeholder="Enter Location" required />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Parameters Table -->
        <div class="table-responsive">
            <table class="pv-table looklikeshot">
                <colgroup>
                    <col class="serial" />
                    <col class="param" />
                    <col class="sample" />
                    <col class="result" />
                </colgroup>
                <thead>
                    <tr>
                        <th>Serial No.</th>
                        <th>PARAMETERS</th>
                        <th>SAMPLE DETAILS</th>
                        <th class="result-header" style="color:#d00;">Result - Pass/ Fail/ Not Applicable/ Pending</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td contenteditable="true">1</td>
                        <td contenteditable="true">Product Category</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td contenteditable="true">2</td>
                        <td contenteditable="true">Installation Sheet</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td contenteditable="true">3</td>
                        <td contenteditable="true">Mounting Mechanism</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td contenteditable="true">4</td>
                        <td contenteditable="true">Duration of Test</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td contenteditable="true">5</td>
                        <td contenteditable="true">Installation with 4x Load</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td contenteditable="true">6</td>
                        <td contenteditable="true">Installation with Sand Bag Load</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td contenteditable="true">7</td>
                        <td contenteditable="true">Installation with Sand Bag Load</td>
                        <td contenteditable="true"></td>
                        <td>
                            <select class="result-select">
                                <option value="">Select</option>
                                <option value="Pass">Pass</option>
                                <option value="Fail">Fail</option>
                                <option value="Not Applicable">Not Applicable</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Photo Table (same width, no extra card-body wrappers) -->
        <div class="table-responsive">
            <table class="photo-table" style="width:100%; border-collapse:collapse; table-layout:fixed; font-size:14px;">
                <thead>
                    <tr>
                        <th colspan="2" class="photo-head" style="height:100px;">
                            <div class="photo-header-content">
                                <span class="photo-text"></span>
                                <input type="file" id="photoUpload" accept="image/*" />
                            </div>
                        </th>
                    </tr>
                </tr>

                    <tr>
                        <th style="border:1px solid #000;">With Load</th>
                        <th style="border:1px solid #000;">Without Load</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border:1px solid #000; padding:10px;">
                            <textarea rows="7" placeholder="Enter details here..."
                                      style="width:100%; border:none; resize:none; outline:none; padding:8px; font-size:14px; background:transparent; min-height:180px;"></textarea>
                        </td>
                        <td style="border:1px solid #000; padding:10px;">
                            <textarea rows="7" placeholder="Enter details here..."
                                      style="width:100%; border:none; resize:none; outline:none; padding:8px; font-size:14px; background:transparent; min-height:180px;"></textarea>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Result (overall) -->
        <div class="table-responsive">
            <table style="width:100%; border-collapse:collapse; table-layout:fixed; font-size:14px;">
                <thead>
                    <tr>
                        <th style="color:#d00; font-weight:700; text-align:left; background:#fff; border:1px solid #000; padding:15px;">
                            <div style="display:flex; align-items:center; gap:15px;">
                                <span>Result - Pass / Fail / NA / Pending</span>
                                <select class="result-select" style="width:200px;">
                                    <option value="">Select</option>
                                    <option>Pass</option>
                                    <option>Fail</option>
                                    <option>NA</option>
                                    <option>Pending</option>
                                </select>
                            </div>
                        </th>
                    </tr>
                </thead>
            </table>
        </div>

        <!-- Checked By / Verified By -->
        <div class="table-responsive" style="margin-top:10px;">
            <table style="width:100%; border-collapse:collapse; table-layout:fixed; font-size:14px;">
                <tbody>
                    <tr>
                        <td style="width:50%; border:1px solid #000; padding:12px;">
                            <label style="font-weight:600;">Checked By:</label>
                            <input type="text" style="border:none; border-bottom:1.5px solid #000; width:70%; outline:none; background:transparent; margin-left:6px; font-size:14px;" placeholder="Enter name" />
                        </td>
                        <td style="width:50%; border:1px solid #000; padding:12px;">
                            <label style="font-weight:600;">Verified By:</label>
                            <input type="text" style="border:none; border-bottom:1.5px solid #000; width:70%; outline:none; background:transparent; margin-left:6px; font-size:14px;" placeholder="Enter name" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>

@section HideSidebar { }
