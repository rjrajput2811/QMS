@{
    ViewData["Title"] = "Photometry Test Report";
}

<style>
    .req {
        color: #d00;
        font-style: normal;
    }

    /* thin full-width spacer row (yellow) */
    .pv-table .spacer-row td {
        background: #fff;
        height: 14px;
        padding: 0;
        border-top: 1px solid #000;
        border-bottom: 1px solid #000;
    }

    .pv-table .sign-row td {
        vertical-align: top;
        padding: 6px 10px 25px 10px;
    }

    .same-input {
        border: none;
        border-bottom: 1.5px solid #666;
        background: transparent;
        outline: none;
        font-size: 14px;
        width: 70%;
        padding: 2px 4px;
        transition: border-color .2s ease-in-out;
    }

        .same-input:focus {
            border-bottom-color: #4682B4;
        }

        .same-input::placeholder {
            color: #aaa;
            font-style: italic;
        }

    .header-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
        border: 1px solid #000;
        margin-bottom: 0 !important; /* no gap under first table */
        border-bottom: none !important; /* join with second table border */
    }

        .header-table td {
            border: 1px solid #000;
            padding: 10px 12px;
            white-space: nowrap;
            vertical-align: middle;
        }

        .header-table + hr {
            margin-top: 0 !important;
        }

    .field-label {
        font-weight: 600;
        color: #000;
        margin-right: 6px;
    }

    .inline-input,
    .inline-date {
        display: inline-block;
        border: none;
        border-bottom: 1.5px solid #666;
        background: transparent;
        width: 60%;
        font-size: 14px;
        padding: 2px 4px;
        outline: none;
        box-shadow: none;
        transition: border-color 0.2s ease-in-out;
        vertical-align: baseline;
    }

        .inline-input:focus,
        .inline-date:focus {
            border-bottom-color: #4682B4;
        }

        .inline-date::-webkit-calendar-picker-indicator {
            opacity: 1;
            cursor: pointer;
            margin-left: 4px;
        }

        .inline-date::-ms-clear,
        .inline-date::-webkit-clear-button {
            display: none;
        }

    .pv-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 14px;
        margin-top: 0;
        border-top: none !important; /* share border with header-table */
    }

        .pv-table th,
        .pv-table td {
            border: 1px solid #000;
            padding: 8px 10px;
            vertical-align: middle;
        }

        .pv-table thead th {
            background: #f8f9fa;
            font-weight: 700;
            text-align: center;
        }

        .pv-table .subhead {
            background: #eef2f7;
            font-weight: 700;
            text-align: center;
        }

        .pv-table .result-header {
            color: #d00;
            text-align: center;
        }

        .pv-table .group-cell {
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            background: #fff;
        }

        .pv-table td[contenteditable="true"] {
            background: #fff;
            min-height: 28px;
            cursor: text;
        }

            .pv-table td[contenteditable="true"]:focus {
                outline: 2px solid rgba(70, 130, 180, 0.35);
                background: #f5faff;
            }

    .pretty-select {
        width: 100%;
        padding: 6px 25px 6px 10px;
        border: none;
        border-bottom: 1.5px solid #cbd5e1;
        border-radius: 6px;
        background-color: #fff;
        font-size: 14px;
        color: #000;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='12' viewBox='0 0 20 20' width='12' xmlns='http://www.w3.org/2000/svg'><path d='M5.516 7.548l4.484 4.486 4.484-4.486L16 8.548l-6 6-6-6z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 10px center;
        cursor: pointer;
        transition: all 0.25s ease-in-out;
        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.05);
    }

        .pretty-select:focus {
            outline: none;
            border-bottom-color: #4a90e2;
            box-shadow: 0 2px 4px rgba(70, 130, 180, 0.25);
        }

        .pretty-select:hover {
            border-bottom-color: #93b4d8;
        }

        .pretty-select option {
            background: #fff;
            color: #000;
        }

    .result-select {
        width: 100%;
        padding: 8px 30px 8px 12px;
        border: none;
        border-bottom: 2px solid #4682B4;
        border-radius: 0;
        background-color: transparent;
        font-size: 14px;
        color: #000;
        appearance: none;
        background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='12' viewBox='0 0 20 20' width='12' xmlns='http://www.w3.org/2000/svg'><path d='M5.516 7.548l4.484 4.486 4.484-4.486L16 8.548l-6 6-6-6z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 10px center;
        cursor: pointer;
        transition: border-color 0.2s ease-in-out;
    }

        .result-select:hover,
        .result-select:focus {
            outline: none;
            border-bottom-color: #2f5c8a;
        }

        .result-select::-ms-expand {
            display: none;
        }

    /* Make both tables align perfectly inside the card */
    .card.shadow-sm .card-body .table-responsive {
        padding: 0 !important;
        margin: 0 !important;
    }
</style>

<div class="content">
    <div class="row">
        <div class="col-12">

            <div class="card shadow-sm mb-3" style="border-radius:8px; border:1px solid #ccc;">
                <div class="card-body d-flex justify-content-between align-items-center py-3" style="min-height:80px;">

                    <!-- Title -->
                    <div>
                        <b style="font-size:x-large; color:#4682B4;">
                            Photometry Test Report
                        </b>
                    </div>

                    <!-- Buttons -->
                    <div>
                        <button id="savePhotometryButton"
                                type="button"
                                class="btn btn-outline-success legitRipple mr-2"
                                onclick="savePhotometryTest()"
                                style="width:120px; font-size:15px;">
                            <i class="fas fa-save mr-1"></i>Save
                        </button>

                        <a href='@Url.Action("PhotometryTestReport", "ProductValidation")'
                           class="btn btn-outline-primary"
                           style="width:120px; font-size:15px;">
                            <i class="fas fa-arrow-left"></i> BACK
                        </a>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-3" style="border-radius:8px; border:1px solid #ccc;">
                <div class="card-body">
                    <div class="table-responsive">
                        <!-- FIRST TABLE (HEADER) -->
                        <table class="header-table">
                            <colgroup>
                                <col style="width:33%;" />
                                <col style="width:34%;" />
                                <col style="width:33%;" />
                            </colgroup>
                            <tbody>
                                <tr>
                                    <td>
                                        <span class="field-label">Product Cat Ref :</span><em class="req">*</em>
                                        <input type="text" name="ProductCatRef" class="inline-input"
                                               placeholder="Enter Product Reference" required />
                                    </td>
                                    <td>
                                        <span class="field-label">Product Description :</span><em class="req">*</em>
                                        <input type="text" name="ProductDescription" class="inline-input"
                                               placeholder="Enter Product Description" required />
                                    </td>
                                    <td>
                                        <span class="field-label">Report No. :</span><em class="req">*</em>
                                        <input type="text" name="ReportNo" class="inline-input"
                                               placeholder="Enter Report Number" required />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="field-label">Driver :</span><em class="req">*</em>
                                        <input type="text" name="Driver" class="inline-input"
                                               placeholder="Enter Driver Details" required />
                                    </td>
                                    <td>
                                        <span class="field-label">LED Details :</span><em class="req">*</em>
                                        <input type="text" name="LEDDetails" class="inline-input"
                                               placeholder="Enter LED Details" required />
                                    </td>
                                    <td>
                                        <span class="field-label">Date :</span><em class="req">*</em>
                                        <input type="date" name="ReportDate" class="inline-date"
                                               placeholder="Select Date" required />
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- SECOND TABLE (ATTACHED DIRECTLY UNDER, SAME WIDTH, SHARED BORDER) -->
                        <table class="pv-table">
                            <thead>
                                <tr>
                                    <th rowspan="2" style="width:10%"></th>
                                    <th rowspan="2" style="width:22%">Parameter</th>
                                    <th rowspan="2" style="width:18%">Specification</th>
                                    <th colspan="5" class="subhead">Measured Values</th>
                                    <th rowspan="2" style="width:18%" class="result-header">
                                        Result ( Pass / Fail / Not Applicable )
                                    </th>
                                </tr>
                                <tr>
                                    <th style="width:8%">Sample-1</th>
                                    <th style="width:8%">Sample-2</th>
                                    <th style="width:8%">Sample-3</th>
                                    <th style="width:8%">Sample-4</th>
                                    <th style="width:8%">Sample-5</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="group-cell" rowspan="5">with<br />Sphere</td>
                                    <td contenteditable="true">Input Wattage (W)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">Luminous Flux (lm)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">CCT (K)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">CRI</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">System Efficacy (lm/W)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="group-cell" rowspan="9">With<br />Gonio</td>
                                    <td contenteditable="true">Input Wattage (W)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">Luminous Flux (lm)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">CCT (K)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">CRI</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">System Efficacy (lm/W)</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">UGR Value</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">Distribution</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">NABL 79 Report</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td contenteditable="true">NABL 79 Report of Other Cat Ref as per PPS</td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td contenteditable="true"></td>
                                    <td style="padding:10px;">
                                        <select class="pretty-select">
                                            <option value="">Select</option>
                                            <option value="Pass">Pass</option>
                                            <option value="Fail">Fail</option>
                                            <option value="Not Applicable">Not Applicable</option>
                                        </select>
                                    </td>
                                </tr>

                                <tr class="spacer-row">
                                    <td colspan="12"></td>
                                </tr>

                                <tr class="sign-row">
                                    <td colspan="4" style="font-weight:bold; border:1px solid #000;">
                                        Tested By:&nbsp;
                                        <input type="text" name="checkedBy" class="same-input" placeholder="" />
                                    </td>
                                    <td colspan="5" style="font-weight:bold; border:1px solid #000;">
                                        Verified By:&nbsp;
                                        <input type="text" name="verifiedBy" class="same-input" placeholder="" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

@section HideSidebar { }