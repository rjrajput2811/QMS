@using QMS.Core.Enums
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    var userRole = HttpContextAccessor.HttpContext.Session.GetInt32("UserRole") ?? 0;
    var vendor_Id = HttpContextAccessor.HttpContext.Session.GetInt32("Vendor_Id") ?? 0;
    var userName = HttpContextAccessor.HttpContext.Session.GetString("FullName") ?? "";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tracker Menu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/icomoon/styles.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/fontawesome/styles.min.css" rel="stylesheet" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @* <link href="~/css/bootstrap.min.css" rel="stylesheet" asp-append-version="true" /> *@
    <link href="~/css/bootstrap_limitless.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/colors.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/components.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/layout.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/lib/fontawesome/css/all.min.css" rel="stylesheet" asp-append-version="true" />
    <link href="~/css/all.min.css" rel="stylesheet" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/popper.js/dist/umd/popper.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <style>
        :root {
            --border: #e4e7eb;
            --hover-bg: #f8f9fa;
            --label-color: #222;
            --pill-radius: 8px;
            --transition: all 0.25s ease-in-out;
        }

       

        .card-section {
            border: 1px solid var(--border);
            border-radius: 18px;
            background: #fff;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05);
            
       
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
                
            background: #f9fafb;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            font-size: 18px;
            color: #111;
        }

        .list-group {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .list-group-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 24px;
            border-bottom: 1px dashed var(--border);
            color: var(--label-color);
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
        }

            .list-group-item:last-child {
                border-bottom: none;
            }

            .list-group-item:hover {
                background: var(--hover-bg);
                transform: scale(1.01);
                color: #4682B4;
            }

        .label {
            display: flex;
            align-items: center;
            gap: 7px;
        }

        .badge-pill {
            font-size: 13px;
            padding: 5px 10px;
            border-radius: var(--pill-radius);
            font-weight: 600;
            letter-spacing: .3px;
            min-width: 70px;
            text-align: center;
            margin-left: auto;
        }

        .badge-blue {
            background: #007bff;
            color: #fff;
        }

        .badge-gray {
            background: #6c757d;
            color: #fff;
        }

        .badge-green {
            background: #198754;
            color: #fff;
        }

        .badge-cyan {
            background: #0dcaf0;
            color: #fff;
        }

        .badge-light {
            background: #e9ecef;
            color: #333;
        }

        .icon-right {
            color: #aaa;
            font-size: 16px;
            margin-left: 10px;
        }

        .menu-table {
            display: grid;
            grid-template-columns: 220px 1fr; /* left label | right links */
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
            background: #fff;
        }

        .menu-row {
            display: contents; /* lets child cells draw the borders like a real table row */
        }

        .menu-cell {
            padding: 10px 14px;
            border-bottom: 1px solid #e5e7eb;
            border-right: 1px solid #e5e7eb;
        }

            .menu-cell:last-child {
                border-right: 0;
            }

        .menu-row:last-child .menu-cell {
            border-bottom: 0;
        }

        .menu-section {
            font-weight: 500;
           
            display: flex;
            align-items: center;
            gap: .5rem;
        }

        .menu-links {
            margin: 0;
            padding: 0;
            list-style: none;
        }

            .menu-links li + li {
                margin-top: 6px;
            }

            .menu-links a {
                text-decoration: none;
                color: #2196f3;
            }

                .menu-links a:hover {
                    text-decoration: underline;
                    color: blue;
                   
                }

        /* Responsive: stack to single column on small screens */
        @@media (max-width: 576px) {
            .menu-table

        {
            grid-template-columns: 1fr;
        }

        .menu-cell {
            border-right: 0 !important;
        }

        }
    </style>
</head>
<body>

    <div class="navbar navbar-dark navbar-expand-lg navbar-static">
        <div class="d-md-none">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-mobile">
                <i class="icon-tree5"></i>
            </button>
            <button class="navbar-toggler sidebar-mobile-main-toggle" type="button">
                <i class="icon-paragraph-justify3"></i>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="navbar-mobile">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="#" class="navbar-nav-link sidebar-control sidebar-main-toggle d-none d-md-block mt-1">
                        <i class="icon-paragraph-justify3"></i>
                    </a>
                </li>

                <div class="navbar-brand">
                    <span class="h5"><strong>Quality Management System (QMS) </strong></span><span id="versionSpan" onclick="" style="font-size: 14px; margin-left:8px; font-weight:500">Version - 1.3.1 08/11/2025</span>
                </div>

            </ul>
            <span class="badge ml-md-3 mr-md-auto"> </span>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <button id="wiproBackButton" type="button" class="btn btn-warning legitRipple" onclick="location.href='@Url.Action("OptionSelection", "Home")'" >
                        <i class="fas fa-solid fa-house-user mr-2 fa-1x"></i>Home
                    </button>
                </li>
            </ul>

            <ul class="navbar-nav">
                <li class="nav-item dropdown dropdown-user">
                    <a href="#" class="navbar-nav-link d-flex align-items-center dropdown-toggle" data-toggle="dropdown">
                        <span>
                            <span class="font-weight-bold">@HttpContextAccessor.HttpContext.Session.GetString("FullName")</span>
                        </span>
                    </a>

                    <div class="dropdown-menu dropdown-menu-right">
                        <a href="#" class="dropdown-item"><i class="icon-cog5"></i> Account settings</a>
                        <a href="@Url.Action("Logout", "Account")" class="dropdown-item"><i class="icon-switch2"></i> Logout</a>
                    </div>
                </li>
            </ul>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="@Url.Action("Login", "Account")" class="navbar-nav-link">
                        <i class="icon-switch"></i>
                        <span class="ml-2">Login</span>
                    </a>
                </li>
            </ul>

        </div>
    </div>
    <div class="card">
      
            
            <!-- Back button -->
            @* <div class="col-md-12 text-right mt-1">
                <button id="tarcBackButton" type="button" class="btn btn-outline-primary"
                        onclick="location.href='@Url.Action("WiproMenu", "Home")'">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
            </div> *@
      

        <div class="row">
            <!-- -------- Column 1 -------- -->
            <div class="col-md-4">
                <div class="card-body">
                    <div class="card-section tracker-card">
                        <div class="card-header d-flex justify-content-between align-items-center" style="background-color:#e9f2fb;">
                            <h5 class="mb-0"><i class="fas fa-tasks mr-2 text-primary"></i>Tracker</h5>

                            <div class="input-group" style="width:240px;">
                                <input type="text" id="menuSearch" class="form-control form-control-sm tracker-search" placeholder="Search Tracker..." />
                                <div class="input-group-append">
                                   
                                </div>
                            </div>
                        </div>

                            <!-- Collapsible group -->
                        <div class="menu-table tracker-menu">

                            <!-- Corrective Action -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-tools"></i> Corrective Action</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("CAReport", "CAReport")'>CA Report</a></li>
                                        <li><a href='@Url.Action("CustomerRCAReport", "CAReport")'>Customer RCA Report</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Deviation -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-exclamation-triangle"></i> Deviation</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("DNTracker", "DNTracker")'>Deviation Note</a></li>
                                    </ul>
                                </div>
                            </div>



                            <!-- Continual Improvement -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-chart-line"></i> Continual Improvement</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("ContinualImprovementTrac", "ContiImprove")'>Continual Improvement</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Waluj -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-industry"></i> Waluj</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("FIFOTracker", "FIFOTrac")'>FIFO format of Waluj Testing</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Third Party Testing -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-clipboard-check"></i> Third Party Testing</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("PaymentTracker", "PaymentTracker")'>Payment Tracker</a></li>
                                        <li><a href='@Url.Action("ThirdPartyTestTrac", "ThirdPartyTest")'>Third Party Testing Template</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Kaizen Activity -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-lightbulb"></i> Kaizen Activity</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("KaizenTracker", "KaizenTracker")'>Kaizen Summary</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Third Party Inspection (TPI) -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-shield-alt"></i> Third Party Inspection (TPI)</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("ThirdPartyInspection", "ThirdPartyInspection")'>Third Party Inspection Tracker</a></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- CSAT -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-smile"></i> CSAT</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("CSATSUMMARY", "CSAT")'>CSAT Summary</a></li>
                                        <li><a href='@Url.Action("CSATComment", "CSATComment")'>CSAT Comment Analysis</a></li>
                                    </ul>
                                </div>
                            </div>
                            <!-- PDI -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-shield-alt"></i>PDI</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("PDITracker", "PDITracker")'>PDI Tracker</a></li>
                                        <li><a href='@Url.Action("PDIAuthSignatory", "PDIAuthSign")'>PDI Authorised Signatory</a></li>
                                    </ul>
                                </div>
                            </div>

                        

                          

                        </div>

                           
                    </div>
                </div>
            </div>

            <!-- -------- Column 2 -------- -->
            <div class="col-md-4">
                <div class="card-body">
                    <div class="card-section tracker-card">
                        <div class="card-header d-flex justify-content-between align-items-center" style="background-color:#e9f2fb;">
                            <h5 class="mb-0"><i class="fas fa-tasks mr-2 text-primary"></i>Tracker</h5>

                            <div class="input-group" style="width:240px;">
                                <input type="text" id="menuSearch" class="form-control form-control-sm tracker-search" placeholder="Search Tracker..." />
                                <div class="input-group-append">
                                  
                                </div>
                            </div>
                        </div>
                        <div class="menu-table tracker-menu">
                            <!-- AHP Note -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-book"></i> AHP Note</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("AHPNotetracker", "AHPNotetracker")'>AHP Note Format</a></li>
                                        <li><a href='@Url.Action("SEEIndicees", "SEEIndicees")'>SEE Indices</a></li>
                                    </ul>
                                </div>
                            </div>
                            <!-- RMTC -->
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section">
                                        <i class="fas fa-book"></i> Raw Material Test Certificate
                                    </div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li>
                                            <a href='@Url.Action("RMTCTracker", "RMTCTracker")'>
                                                RM TC Report
                                            </a>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        <div class="menu-row">
                            <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-vial"></i>Internal Type Test</div>
                            </div>
                            <div class="menu-cell">
                                <ul class="menu-links">
                                    <li><a href='@Url.Action("InternalTestReport", "InternalTestReport")'>Internal Type Test Report</a></li>
                                  
                                </ul>
                            </div>
                        </div>
                        <div class="menu-row">
                            <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-cogs"></i>SPM Calculation(Supplier Perfomance Matrxi)</div>
                            </div>
                            <div class="menu-cell">
                                <ul class="menu-links">
                                    <li><a href='@Url.Action("SPMCalculationSheet", "SPMCalculationSheet")'>SPM Calculation Sheet : Make & Buy Vendor</a></li>

                                </ul>
                            </div>
                        </div>
                        <div class="menu-row">
                            <div class="menu-cell">
                                    <div class="menu-section"><i class="fas fa-certificate"></i>Test Certificate</div>
                            </div>
                            <div class="menu-cell">
                                <ul class="menu-links">
                                    <li><a href='@Url.Action("TestCertificate", "TestCertificate")'>Test Certificate for Sales Submission</a></li>

                                </ul>
                            </div>
                        </div>
                           
                    </div>
                </div>
            </div>
            </div>
            

            <!-- -------- Column 3 -------- -->
            <div class="col-md-4">
                <div class="card-body">
                    <div class="card-section tracker-card">
                        <div class="card-header d-flex justify-content-between align-items-center" style="background-color:#e9f2fb;">
                            <h5 class="mb-0"><i class="fas fa-tasks mr-2 text-primary"></i>Product Validation</h5>

                            <div class="input-group" style="width:240px;">
                                <input type="text" id="menuSearch" class="form-control form-control-sm tracker-search" placeholder="Search Tracker..." />
                                <div class="input-group-append">
                                </div>
                            </div>
                        </div>
                        <div class="menu-table tracker-menu">
                            <div class="menu-row">
                                <div class="menu-cell">
                                    <div class="menu-section">
                                        <i class="fas fa-eye mr-1"></i>Physical Check</div>
                                </div>
                                <div class="menu-cell">
                                    <ul class="menu-links">
                                        <li><a href='@Url.Action("PhysicalCheckAndVisualInspection", "ProductValidation")'>Physical Check & Visual Inspection</a></li>

                                    </ul>
                                </div>
                            </div>



                                <ul class="menu-links">
                                    <li>
                                        <a href='@Url.Action("PhysicalCheckAndVisualInspection", "ProductValidation")'>
                                            <i class="fas fa-eye mr-1"></i> Physical Check & Visual Inspection
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("ElectricalPerformance", "ProductValidation")'>
                                            <i class="fas fa-bolt mr-1"></i> Electrical Performance
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("ElectricalProtection", "ProductValidation")'>
                                            <i class="fas fa-shield-alt mr-1"></i> Electrical Protection, Safety & Reliability Test
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("RippleTestReport", "ProductValidation")'>
                                            <i class="fas fa-wave-square mr-1"></i> Ripple Test Reports
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("SURGETestReport", "ProductValidation")'>
                                            <i class="fas fa-bolt mr-1"></i> Surge Test Report
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("TemperatureRiseTest", "ProductValidation")'>
                                            <i class="fas fa-thermometer-three-quarters mr-1"></i> Temperature Rise Test (TRT)
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("Photometry", "ProductValidation")'>
                                            <i class="fas fa-lightbulb mr-1"></i> Photometry
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("InstallationTrial", "ProductValidation")'>
                                            <i class="fas fa-tools mr-1"></i> Installation Trial
                                        </a>
                                    </li>
                                    <li>
                                        <a href='@Url.Action("DropTestReport", "ProductValidation")'>
                                            <i class="fas fa-box-open mr-1"></i> Drop Test Report
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
             </div>
                </div>
     
                                       


    <!-- Optional arrow rotation -->
    <style>
        .ca-chevron {
            transition: transform .25s ease;
        }

            .ca-chevron.rotated {
                transform: rotate(180deg);
            }
    </style>
    <script>
        $('#correctiveActionMenu').on('shown.bs.collapse', function () {
          $(this).prev('a').find('.ca-chevron').addClass('rotated');
        });
        $('#correctiveActionMenu').on('hidden.bs.collapse', function () {
          $(this).prev('a').find('.ca-chevron').removeClass('rotated');
        });
    </script>


    <div class="content-wrapper">
        @RenderBody()
    </div>

   


    <!-- Bootstrap JS -->

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <!-- Core JS files -->
    <script src="~/js/app.js" asp-append-version="true"></script>
    <script src="~/js/bootstrap.bundle.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js" asp-append-version="true"></script>
    <script src="~/js/jquery.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/blockui.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/d3.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/d3_tooltip.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/switchery.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/moment.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/daterangepicker.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/echarts.min.js" asp-append-version="true"></script>
    <script src="~/js/Dashboard/progress.js" asp-append-version="true"></script>
    <script src="~/js/Dashboard/pie_basic.js" asp-append-version="true"></script>
    <script src="~/js/Dashboard/columns_basic.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/noty.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/popupalert.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/pnotify.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/interactions.min.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/touch.min.js" asp-append-version="true"></script>
    <script src="~/js/components_collapsible.js" asp-append-version="true"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // For every card with its own search box
            document.querySelectorAll('.tracker-card').forEach(function (card) {
                const searchInput = card.querySelector('.tracker-search');
                const rows = card.querySelectorAll('.tracker-menu .menu-row');

                if (!searchInput || rows.length === 0) return;

                searchInput.addEventListener('input', function () {
                    const q = this.value.trim().toLowerCase();

                    rows.forEach(function (row) {
                        const text = row.innerText.toLowerCase();
                        // show / hide entire row based on match
                        row.style.display = text.includes(q) ? '' : 'none';
                    });
                });
            });
        });
    </script>

</body>
</html>

